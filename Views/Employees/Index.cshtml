@model EmployeeManagement.ViewModels.EmployeeListViewModel

@{
    string heading = "Employee Directory";
    bool showBackButton = false;

    if (!string.IsNullOrEmpty(Model.SearchTerm))
    {
        heading = $"Search Results for \"{Model.SearchTerm}\"";
        showBackButton = true;
    }
    else if (Model.SelectedFilter == "Active" || Model.SelectedFilter == "Inactive")
    {
        heading = $"Employees - {Model.SelectedFilter}";
        showBackButton = true;
    }
    else if (Model.SelectedFilter != "All" && !string.IsNullOrEmpty(Model.SelectedFilter))
    {
        heading = $"Employees - {Model.SelectedFilter} Department";
        showBackButton = true;
    }
}

<h2>@heading</h2>

<partial name="_SearchAndFilter" />

<partial name="_EmployeeTable" model="Model.Employees" />

@if (showBackButton)
{
    <br />
    <a href="/Employees"> Back to Employees</a>
}

